<!DOCTYPE html>
<html>
<head>
<title>JZZ.synth.OSC demo</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="../../javascript/JZZ.js"></script>
<script src="../../javascript/JZZ.synth.OSC.js"></script>
<script><!--
var iosFixDone;
function iosFix() {
  try {
    if (iosFixDone) return;
    iosFixDone = true;
    var AudioContext = window.AudioContext || window.webkitAudioContext;
    if (!AudioContext) return;
alert(1);
    var context = new AudioContext();
alert(2);
    var osc = context.createOscillator();
alert(3);
    var gain = context.createGainNode();
alert(4);
    gain.gain.value = 1;
alert(5);
    osc.connect(gain);
alert(6);
    gain.connect(context.destination);
alert(7);
    osc.noteOn(0);
alert(8);
    window.setTimeout(function(){osc.noteOff(0);}, 10);
  }
  catch(e) {
    alert('error: ' + e);
  }
}
function play() {
  iosFix();
  JZZ.synth.OSC()
    .or(function(){ alert('Cannot open MIDI-Out! ' + this.err()); })
    .note(0, 'C5', 127, 500).wait(500)
    .note(0, 'E5', 127, 500).wait(500)
    .note(0, 'G5', 127, 500).wait(500)
    .note(0, 'C6', 127, 500);
}
--></script>
</head>

<body>
<h1>JZZ.synth.OSC demo</h1>
<button onclick='play();'>Press to play!</button>
<p id=note>
</p>
<script><!--
var ac = window.AudioContext || window.webkitAudioContext;
if (!ac) document.getElementById('note').innerHTML = 'NOTE: This browser does not support AudioContext.';
--></script>

</body>
</html>