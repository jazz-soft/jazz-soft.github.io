<!DOCTYPE html>
<html>
<head>
<title>Web USB</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" type="text/css" href="../style.css" />
</head>
<body>

<h1><span id="qr"><a id="qrcode"></a></span> Web USB</h1>

<div id=out><div>JavaScript is disabled</div></div>

<script><!--
var out = document.getElementById('out');
var status = "<div>Web USB is not supported</div>";

function found(devices) {
  status += '<p>Devices found: ' + devices.length + '</p>';
  devices.forEach(function(device) {
    status += '<div>Product name: ' + device.productName + ', serial number ' + device.serialNumber + '</div>';
    console.log('USB:', device);
  });
  out.innerHTML = status;
}

if (navigator.usb && navigator.usb.getDevices) {
  status = "<div>Web USB is supported!</div>";
  navigator.usb.getDevices().then(found);
}

out.innerHTML = status;
--></script>

<p>
<a href=index.html>Back</a>
</p>
<script src="https://cdn.jsdelivr.net/npm/qr-min"></script>
<script src="../javascript/common.js"></script>
</body>
</html>